diff -Naur a/etc/ansible/roles/openstack_hosts/tasks/openstack_kernel_modules.yml b/etc/ansible/roles/openstack_hosts/tasks/openstack_kernel_modules.yml
--- a/etc/ansible/roles/openstack_hosts/tasks/openstack_kernel_modules.yml	2016-11-23 05:11:11.369501774 +0000
+++ b/etc/ansible/roles/openstack_hosts/tasks/openstack_kernel_modules.yml	2016-11-23 05:08:19.796977753 +0000
@@ -42,6 +42,7 @@
   with_items: openstack_host_specific_kernel_modules
   when:
     - openstack_host_specific_kernel_modules is defined
+    - groups["{{ item.group }}"] is defined
     - inventory_hostname in groups["{{ item.group }}"]
   ignore_errors: yes
   tags:
