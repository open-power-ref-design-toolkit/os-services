diff -Naur a/etc/ansible/roles/repo_server/templates/nginx.conf.j2 b/etc/ansible/roles/repo_server/templates/nginx.conf.j2
--- a/etc/ansible/roles/repo_server/templates/nginx.conf.j2	2017-02-09 01:13:32.916219967 -0500
+++ b/etc/ansible/roles/repo_server/templates/nginx.conf.j2	2017-02-09 01:04:10.772209915 -0500
@@ -1,7 +1,7 @@
 user {{ repo_service_user_name }} {{ repo_service_group_name }};
 pid {{ repo_nginx_pid }};
 
-{% set _api_threads = ansible_processor_vcpus|default(2) // 2 %}
+{% set _api_threads = [ansible_processor_vcpus|default(2) // 2, repo_api_threads_max] | min %}
 {% set api_threads = _api_threads if _api_threads > 0 else 1 %}
 
 worker_processes {{ repo_nginx_threads | default(api_threads) }};
